name = "join-info-evry"
main = "dist/_worker.js/index.js"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]

# Static assets from Astro build
[site]
bucket = "./dist"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "join-db"
database_id = "YOUR_DATABASE_ID"

# Environment variables
[vars]
ADMIN_EMAIL = "asso@info-evry.fr"
REPLY_TO_EMAIL = "contact@info-evry.fr"

# Secrets (set via wrangler secret put ADMIN_TOKEN)
# ADMIN_TOKEN = "your-secret-token"

# Production environment
[env.production]
name = "join-info-evry"

[[env.production.d1_databases]]
binding = "DB"
database_name = "join-db"
database_id = "YOUR_DATABASE_ID"
